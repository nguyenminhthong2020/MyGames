[2025-10-21 02:07:34.563] [INFO] ✅ Internal web server listening at http://127.0.0.1:54546
[2025-10-21 02:07:35.608] [INFO] Player color chosen: None
[2025-10-21 02:07:39.777] [INFO] Player color chosen: White
[2025-10-21 02:07:41.349] [INFO] Người chơi chọn e2 → e4
[2025-10-21 02:07:41.357] [INFO] HighlightLastMove_Start
[2025-10-21 02:07:41.359] [INFO] HighlightLastMove_End
[2025-10-21 02:07:41.375] [INFO] Đã di chuyển: e2e4
[2025-10-21 02:07:41.376] [INFO] Trạng thái bàn hiện tại:
r n b q k b n r
p p p p p p p p
. . . . . . . .
. . . . . . . .
. . . . P . . .
. . . . . . . .
P P P P . P P P
R N B Q K B N R
[2025-10-21 02:07:41.379] [INFO] 🧠 Bắt đầu AnalyzeBoardAsync()...
[2025-10-21 02:07:41.381] [WARN] ⚠ StockfishService tồn tại nhưng engine chưa chạy.
[2025-10-21 02:07:41.381] [WARN] ⚙ Stockfish chưa chạy — tiến hành khởi động...
[2025-10-21 02:07:41.388] [INFO] 🚀 Stockfish started (PID=7216)
[2025-10-21 02:07:41.411] [INFO] [Stockfish] Stockfish 17.1 by the Stockfish developers (see AUTHORS file)
[2025-10-21 02:07:41.670] [INFO] [Stockfish] id name Stockfish 17.1
[2025-10-21 02:07:41.671] [INFO] [Stockfish] id author the Stockfish developers (see AUTHORS file)
[2025-10-21 02:07:41.671] [INFO] [Stockfish] 
[2025-10-21 02:07:41.671] [INFO] [Stockfish] option name Debug Log File type string default <empty>
[2025-10-21 02:07:41.672] [INFO] [Stockfish] option name NumaPolicy type string default auto
[2025-10-21 02:07:41.672] [INFO] [Stockfish] option name Threads type spin default 1 min 1 max 1024
[2025-10-21 02:07:41.672] [INFO] [Stockfish] option name Hash type spin default 16 min 1 max 33554432
[2025-10-21 02:07:41.678] [INFO] [Stockfish] option name Clear Hash type button
[2025-10-21 02:07:41.681] [INFO] [Stockfish] option name Ponder type check default false
[2025-10-21 02:07:41.681] [INFO] [Stockfish] option name MultiPV type spin default 1 min 1 max 256
[2025-10-21 02:07:41.682] [INFO] [Stockfish] option name Skill Level type spin default 20 min 0 max 20
[2025-10-21 02:07:41.682] [INFO] [Stockfish] option name Move Overhead type spin default 10 min 0 max 5000
[2025-10-21 02:07:41.682] [INFO] [Stockfish] option name nodestime type spin default 0 min 0 max 10000
[2025-10-21 02:07:41.683] [INFO] [Stockfish] option name UCI_Chess960 type check default false
[2025-10-21 02:07:41.683] [INFO] [Stockfish] option name UCI_LimitStrength type check default false
[2025-10-21 02:07:41.683] [INFO] [Stockfish] option name UCI_Elo type spin default 1320 min 1320 max 3190
[2025-10-21 02:07:41.684] [INFO] [Stockfish] option name UCI_ShowWDL type check default false
[2025-10-21 02:07:41.684] [INFO] [Stockfish] option name SyzygyPath type string default <empty>
[2025-10-21 02:07:41.684] [INFO] [Stockfish] option name SyzygyProbeDepth type spin default 1 min 1 max 100
[2025-10-21 02:07:41.684] [INFO] [Stockfish] option name Syzygy50MoveRule type check default true
[2025-10-21 02:07:41.685] [INFO] [Stockfish] option name SyzygyProbeLimit type spin default 7 min 0 max 7
[2025-10-21 02:07:41.685] [INFO] [Stockfish] option name EvalFile type string default nn-1c0000000000.nnue
[2025-10-21 02:07:41.685] [INFO] [Stockfish] option name EvalFileSmall type string default nn-37f18f62d772.nnue
[2025-10-21 02:07:41.685] [INFO] [Stockfish] uciok
[2025-10-21 02:07:41.685] [INFO] ✅ Stockfish sẵn sàng nhận lệnh UCI.
[2025-10-21 02:07:41.687] [INFO] HighlightLastMove_Start
[2025-10-21 02:07:41.687] [INFO] HighlightLastMove_End
[2025-10-21 02:07:41.987] [INFO] 📄 FEN hiện tại: 
[2025-10-21 02:07:41.987] [INFO] ♟ Moves hiện tại: e2e4
[2025-10-21 02:07:41.987] [INFO] 🔍 Bắt đầu phân tích (depth=12)...
[2025-10-21 02:07:41.990] [INFO] ♟ [DEBUG] >>> BẮT ĐẦU PHÂN TÍCH depth=12 <<<
[2025-10-21 02:07:41.994] [INFO] ➡ [02:07:41.994] Gửi: ucinewgame
[2025-10-21 02:07:41.999] [INFO] ➡ [02:07:41.999] Gửi: isready
[2025-10-21 02:07:42.003] [INFO] [Stockfish] readyok
[2025-10-21 02:07:42.004] [INFO] ⬅ Hoàn tất isready: readyok

[2025-10-21 02:07:42.006] [INFO] ➡ [02:07:42.006] Gửi: position startpos moves e2e4
[2025-10-21 02:07:42.006] [INFO] 🧠 Gửi lệnh 'go depth'...
[2025-10-21 02:07:42.008] [INFO] ➡ [02:07:42.007] Gửi: go depth 12
[2025-10-21 02:07:42.008] [INFO] [Stockfish] info string Available processors: 0-7
[2025-10-21 02:07:42.009] [INFO] [Stockfish] info string Using 1 thread
[2025-10-21 02:07:42.009] [INFO] [Stockfish] info string NNUE evaluation using nn-1c0000000000.nnue (133MiB, (22528, 3072, 15, 32, 1))
[2025-10-21 02:07:42.010] [INFO] [Stockfish] info string NNUE evaluation using nn-37f18f62d772.nnue (6MiB, (22528, 128, 15, 32, 1))
[2025-10-21 02:07:42.010] [INFO] [Stockfish] info depth 1 seldepth 4 multipv 1 score cp -27 nodes 24 nps 24000 hashfull 0 tbhits 0 time 1 pv e7e5
[2025-10-21 02:07:42.011] [INFO] [Stockfish] info depth 2 seldepth 3 multipv 1 score cp -20 nodes 48 nps 48000 hashfull 0 tbhits 0 time 1 pv e7e5
[2025-10-21 02:07:42.011] [INFO] [Stockfish] info depth 3 seldepth 4 multipv 1 score cp -20 nodes 72 nps 72000 hashfull 0 tbhits 0 time 1 pv e7e5 a2a3 a7a6
[2025-10-21 02:07:42.012] [INFO] [Stockfish] info depth 4 seldepth 5 multipv 1 score cp -8 nodes 134 nps 134000 hashfull 0 tbhits 0 time 1 pv e7e5
[2025-10-21 02:07:42.013] [INFO] [Stockfish] info depth 5 seldepth 7 multipv 1 score cp -7 nodes 765 nps 765000 hashfull 0 tbhits 0 time 1 pv c7c6 g1f3 d7d5
[2025-10-21 02:07:42.015] [INFO] [Stockfish] info depth 6 seldepth 10 multipv 1 score cp -34 nodes 3031 nps 606200 hashfull 1 tbhits 0 time 5 pv c7c5
[2025-10-21 02:07:42.016] [INFO] [Stockfish] info depth 7 seldepth 9 multipv 1 score cp -35 nodes 3759 nps 751800 hashfull 1 tbhits 0 time 5 pv e7e5 g1f3 b8c6 d2d4 e5d4 f3d4
[2025-10-21 02:07:42.019] [INFO] [Stockfish] info depth 8 seldepth 14 multipv 1 score cp -49 nodes 7465 nps 622083 hashfull 1 tbhits 0 time 12 pv c7c5 b1c3 e7e6 g1f3 b8c6 d2d4 c5d4 f3d4
[2025-10-21 02:07:42.024] [INFO] [Stockfish] info depth 9 seldepth 14 multipv 1 score cp -49 nodes 10144 nps 596705 hashfull 3 tbhits 0 time 17 pv e7e5 g1f3 b8c6 b1c3 f8b4 c3d5 b4c5 d2d4 c5d4 f3d4 c6d4
[2025-10-21 02:07:42.028] [INFO] [Stockfish] info depth 10 seldepth 14 multipv 1 score cp -52 nodes 11559 nps 577950 hashfull 4 tbhits 0 time 20 pv e7e5 g1f3 b8c6 b1c3 f8b4 c3d5 b4c5 d2d4 c5d4 c2c3
[2025-10-21 02:07:42.036] [INFO] [Stockfish] info depth 11 seldepth 20 multipv 1 score cp -46 nodes 16637 nps 573689 hashfull 5 tbhits 0 time 29 pv e7e5 g1f3 b8c6 b1c3 g8f6 d2d4 e5d4 f3d4 f8b4 d4c6 b7c6
[2025-10-21 02:07:42.047] [INFO] [Stockfish] info depth 12 seldepth 19 multipv 1 score cp -46 nodes 24069 nps 601725 hashfull 7 tbhits 0 time 40 pv e7e5 g1f3 b8c6 b1c3 g8f6 f1b5 f8c5 e1g1 e8g8 b5c6 d7c6 f3e5
[2025-10-21 02:07:42.048] [INFO] [Stockfish] bestmove e7e5 ponder g1f3
[2025-10-21 02:07:42.049] [INFO] ⬅ Hoàn tất go depth 12: info string Available processors: 0-7
info string Using 1 thread
info string NNUE evaluation using nn-1c0000000000.nnue (133MiB, (22528, 3072, 15, 32, 1))
info string NNUE evaluation using nn-37f18f62d772.nnue (6MiB, (22528, 128, 15, 32, 1))
info depth 1 seldepth 4 multipv 1 score cp -27 nodes 24 nps 24000 hashfull 0 tbhits 0 time 1 pv e7e5
info depth 2 seldepth 3 multipv 1 score cp -20 nodes 48 nps 48000 hashfull 0 tbhits 0 time 1 pv e7e5
info depth 3 seldepth 4 multipv 1 score cp -20 nodes 72 nps 72000 hashfull 0 tbhits 0 time 1 pv e7e5 a2a3 a7a6
info depth 4 seldepth 5 multipv 1 score cp -8 nodes 134 nps 134000 hashfull 0 tbhits 0 time 1 pv e7e5
info depth 5 seldepth 7 multipv 1 score cp -7 nodes 765 nps 765000 hashfull 0 tbhits 0 time 1 pv c7c6 g1f3 d7d5
info depth 6 seldepth 10 multipv 1 score cp -34 nodes 3031 nps 606200 hashfull 1 tbhits 0 time 5 pv c7c5
info depth 7 seldepth 9 multipv 1 score cp -35 nodes 3759 nps 751800 hashfull 1 tbhits 0 time 5 pv e7e5 g1f3 b8c6 d2d4 e5d4 f3d4
info depth 8 seldepth 14 multipv 1 score cp -49 nodes 7465 nps 622083 hashfull 1 tbhits 0 time 12 pv c7c5 b1c3 e7e6 g1f3 b8c6 d2d4 c5d4 f3d4
info depth 9 seldepth 14 multipv 1 score cp -49 nodes 10144 nps 596705 hashfull 3 tbhits 0 time 17 pv e7e5 g1f3 b8c6 b1c3 f8b4 c3d5 b4c5 d2d4 c5d4 f3d4 c6d4
info depth 10 seldepth 14 multipv 1 score cp -52 nodes 11559 nps 577950 hashfull 4 tbhits 0 time 20 pv e7e5 g1f3 b8c6 b1c3 f8b4 c3d5 b4c5 d2d4 c5d4 c2c3
info depth 11 seldepth 20 multipv 1 score cp -46 nodes 16637 nps 573689 hashfull 5 tbhits 0 time 29 pv e7e5 g1f3 b8c6 b1c3 g8f6 d2d4 e5d4 f3d4 f8b4 d4c6 b7c6
info depth 12 seldepth 19 multipv 1 score cp -46 nodes 24069 nps 601725 hashfull 7 tbhits 0 time 40 pv e7e5 g1f3 b8c6 b1c3 g8f6 f1b5 f8c5 e1g1 e8g8 b5c6 d7c6 f3e5
bestmove e7e5 ponder g1f3

[2025-10-21 02:07:42.050] [INFO] 💡 [DEBUG] Bestmove từ engine: bestmove e7e5 ponder g1f3
[2025-10-21 02:07:42.051] [INFO] ✅ Stockfish đề xuất: e7e5
